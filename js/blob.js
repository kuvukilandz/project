{function debounce(e,t,n){var i;return function(){var s=this,a=arguments,r=function(){i=null,n||e.apply(s,a)},o=n&&!i;clearTimeout(i),i=setTimeout(r,t),o&&e.apply(s,a)}}class e{constructor(e,t){this.DOM={},this.DOM.el=e,this.options={},Object.assign(this.options,t),this.init()}init(){this.rect=this.DOM.el.getBoundingClientRect(),this.descriptions=[],this.layers=Array.from(this.DOM.el.querySelectorAll("path"),e=>(e.style.transformOrigin=`${this.rect.left+this.rect.width/2}px ${this.rect.top+this.rect.height/2}px`,e.style.opacity=0,this.descriptions.push(e.getAttribute("d")),e)),window.addEventListener("resize",debounce(()=>{this.rect=this.DOM.el.getBoundingClientRect(),this.layers.forEach(e=>e.style.transformOrigin=`${this.rect.left+this.rect.width/2}px ${this.rect.top+this.rect.height/2}px`)},20))}intro(){anime.remove(this.layers),anime({targets:this.layers,duration:1800,delay:(e,t)=>120*t,easing:[.2,1,.1,1],scale:[.2,1],opacity:{value:[0,1],duration:300,delay:(e,t)=>120*t,easing:"linear"}})}expand(){return new Promise((e,t)=>{let n=!1;anime({targets:this.layers,duration:1e3,delay:(e,t)=>50*t+200,easing:[.8,0,.1,0],d:e=>e.getAttribute("pathdata:id"),update:function(t){t.progress>75&&!n&&(n=!0,e())}})})}collapse(){return new Promise((e,t)=>{let n=!1;anime({targets:this.layers,duration:800,delay:(e,t,n)=>50*(n-t-1)+400,easing:[.2,1,.1,1],d:(e,t)=>this.descriptions[t],update:function(t){t.progress>75&&!n&&(n=!0,e())}})})}hide(){anime.remove(this.layers),anime({targets:this.layers,duration:800,delay:(e,t,n)=>80*(n-t-1),easing:"easeInOutExpo",scale:0,opacity:{value:0,duration:500,delay:(e,t,n)=>80*(n-t-1),easing:"linear"}})}show(){setTimeout(()=>this.intro(),400)}}window.Blob=e;const t={};let n,i=[];t.svg=document.querySelector("svg.scene"),Array.from(t.svg.querySelectorAll("g")).forEach(t=>{const n=new e(t);i.push(n),n.intro()}),t.content=document.querySelector(".content--reveal"),t.contentInner=Array.from(t.content.querySelectorAll(".content__inner"),e=>e),t.ctrlBack=t.content.querySelector(".content__close"),t.links=Array.from(document.querySelectorAll(".menu > .menu__item")),t.links.forEach((e,t)=>{e.style.pointerEvents="none",charming(e),anime({targets:e.querySelectorAll("span"),duration:800,delay:(e,t)=>anime.random(0,600)+500,easing:"easeInOutQuad",opacity:[0,1],complete:()=>{e.style.pointerEvents="auto",e.classList.add("menu__item--showDeco")}}),e.addEventListener("click",e=>{e.preventDefault(),s(t)})}),t.ctrlBack.addEventListener("click",()=>a());const s=e=>{this.isOpen=!0,anime({targets:t.links.map(e=>e.querySelectorAll("span")),delay:(e,t)=>anime.random(0,300),duration:200,easing:"easeInOutQuad",opacity:0,begin:()=>t.links.forEach(e=>{e.style.pointerEvents="none",e.classList.remove("menu__item--showDeco")})}),n=e;const s=i[n];s.expand().then(()=>{t.content.style.pointerEvents="auto";const n=t.contentInner[e];n.style.opacity=1,n.style.top=0,anime({targets:[n.querySelectorAll(".content__title > span"),n.querySelectorAll(".content__subtitle > span"),t.ctrlBack],duration:200,delay:(e,t)=>anime.random(0,600),easing:"easeInOutQuad",opacity:[0,1]})}),i.filter(e=>e!=s).forEach(e=>e.hide())},a=()=>{if(!this.isOpen)return;this.isOpen=!1;const e=t.contentInner[n];anime({targets:[e.querySelectorAll(".content__title > span"),e.querySelectorAll(".content__subtitle > span"),t.ctrlBack],delay:(e,t)=>anime.random(0,300),duration:200,easing:"easeInOutQuad",opacity:0,complete:()=>{e.style.opacity=0,e.style.top="-1000vh",t.content.style.pointerEvents="none"}}),i[n].collapse().then(()=>{n=-1,anime({targets:t.links.map(e=>e.querySelectorAll("span")),duration:200,delay:(e,t)=>anime.random(0,600),easing:"easeInOutQuad",opacity:1,complete:()=>t.links.forEach(e=>{e.style.pointerEvents="auto",e.classList.add("menu__item--showDeco")})})}),i.filter(e=>e!=i[n]).forEach(e=>e.show())}}